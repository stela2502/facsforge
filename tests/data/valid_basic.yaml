metadata:
  experiment_name: "test"
  operator: "test user"
  date: "1900-01-01"
  notes: "Index-sorted by BD FACSDiscover S8"

panel:
  FSC-A:
    fluor: null
    role: "scatter"
    ignore: false

  SSCViolet-A:
    fluor: "SSC (Violet)"
    role: "scatter"
    ignore: false

  EcoliLysosomAlexaFluor488-A:
    fluor: "AF488"
    role: "phagocytosis"
    ignore: false

  LDeF780right-A:
    fluor: "eF780"
    role: "viability"
    ignore: false

  LightLossImaging-A:
    fluor: "Imaging LightLoss"
    role: "imaging"
    ignore: true

  # Catch-all for everything else
  # (These must exist but be ignored)
  FSC-H:            { fluor: null, role: null, ignore: true }
  FSC-W:            { fluor: null, role: null, ignore: true }
  FSC-T:            { fluor: null, role: null, ignore: true }

  SSCViolet-H:      { fluor: null, role: null, ignore: true }
  SSCViolet-W:      { fluor: null, role: null, ignore: true }
  SSCViolet-T:      { fluor: null, role: null, ignore: true }

  LightLossViolet-A: { fluor: null, role: null, ignore: true }
  LightLossViolet-H: { fluor: null, role: null, ignore: true }
  LightLossViolet-W: { fluor: null, role: null, ignore: true }

  # Imaging channels (ignored)
  ImgB1-A: { fluor: null, role: null, ignore: true }
  ImgB2-A: { fluor: null, role: null, ignore: true }
  ImgB3-A: { fluor: null, role: null, ignore: true }
  # (...repeat for other ls ~/imaging channels...)

ignore_markers: []

compensation:
  source: "none"

celltypes:
  debris:
    parent: null
    gate:
      type: "polygon"
      channels: ["FSC-A", "SSCViolet-A"]
      vertices:
        - [5000, 2000]
        - [80000, 2000]
        - [80000, 80000]
        - [5000, 80000]

  singlets:
    parent: "debris"
    gate:
      type: "rectangle"
      channels: ["FSC-H", "FSC-A"]
      min: 0.90
      max: 1.10

  phagocytes:
    parent: "singlets"
    positive: ["EcoliLysosomAlexaFluor488-A"]
    negative: ["LDeF780right-A"]

celltypes_of_interest:
  - "phagocytes"

umap:
  enabled: true
  markers:
    - "FSC-A"
    - "SSCViolet-A"
    - "EcoliLysosomAlexaFluor488-A"
  neighbors: 15
  min_dist: 0.2
  metric: "euclidean"
